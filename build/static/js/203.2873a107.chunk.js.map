{"version":3,"file":"static/js/203.2873a107.chunk.js","mappings":"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","sources":["components/auth/Login.jsx","components/auth/authData.js","hooks/useGoogleAuth.js"],"sourcesContent":["import { useState } from 'react'\r\nimport { useGoogleAuth } from '../../hooks/useGoogleAuth'\r\nimport { auth } from '../../firebase'\r\nimport { Formik, Field, ErrorMessage, Form } from 'formik'\r\nimport { signInWithEmailAndPassword, GoogleAuthProvider } from 'firebase/auth'\r\nimport { loginData } from './authData'\r\nimport * as Yup from 'yup'\r\nimport { FcGoogle } from 'react-icons/fc'\r\n\r\nconst initialValues = { name: '', email: '', password: '' }\r\n\r\nconst validationSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, 'Name too short')\r\n\t\t.max(15, 'Name too Long')\r\n\t\t.required('Required'),\r\n\temail: Yup.string().email('Invalid email').required('Required'),\r\n\tpassword: Yup.string()\r\n\t\t.min(5, 'Password too short, password should be at least 6 characters')\r\n\t\t.max(20, 'Password too long, password should be less than 20 characters')\r\n\t\t.required('Required'),\r\n})\r\n\r\nfunction Login() {\r\n\tconst [loginSchema, setLoginSchema] = useState(loginData)\r\n\tconst provider = new GoogleAuthProvider()\r\n\tconst { googleClick, setGoogleClick } = useGoogleAuth(provider)\r\n\r\n\tconst googleSignup = () => setGoogleClick(true)\r\n\r\n\treturn (\r\n\t\t<div className='relative z-20 justify-center w-full md:justify-start md:w-1/2'>\r\n\t\t\t<div className='relative z-50 px-4 pt-4 md:px-6 '>\r\n\t\t\t\t<h1 className='text-6xl tracking-wider text-white md:text-8xl font-ropa-sans'>\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</h1>\r\n\r\n\t\t\t\t<h3 className='pt-2 pb-4 text-md text-teal-light font-poppins md:text-xl'>\r\n\t\t\t\t\tHey there, glad to have you back\r\n\t\t\t\t</h3>\r\n\t\t\t</div>\r\n\t\t\t<div className='max-w-sm px-6 py-2 mt-2 bg-blue-light rounded-2xl md:px-6 md:mx-6'>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={initialValues}\r\n\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\tonSubmit={values => {\r\n\t\t\t\t\t\tsignInWithEmailAndPassword(\r\n\t\t\t\t\t\t\tauth,\r\n\t\t\t\t\t\t\tvalues.email,\r\n\t\t\t\t\t\t\tvalues.password,\r\n\t\t\t\t\t\t).catch(error => {\r\n\t\t\t\t\t\t\tconst errorCode = error.code\r\n\t\t\t\t\t\t\tconst errorMessage = error.message\r\n\t\t\t\t\t\t\terrorCode || errorMessage\r\n\t\t\t\t\t\t\t\t? console.log(errorCode)\r\n\t\t\t\t\t\t\t\t: console.log(errorMessage)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tclassName='flex flex-col items-center bg-blue-light'\r\n\t\t\t\t\t\tautocomplete='off'>\r\n\t\t\t\t\t\t{loginSchema.map(data => (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName='relative flex flex-col w-full'\r\n\t\t\t\t\t\t\t\tkey={data.id}>\r\n\t\t\t\t\t\t\t\t<label className='self-start py-2 text-sm text-blue-lighter font-poppins'>\r\n\t\t\t\t\t\t\t\t\t{data.name}\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tid={data.id}\r\n\t\t\t\t\t\t\t\t\ttype={data.type}\r\n\t\t\t\t\t\t\t\t\tname={data.name}\r\n\t\t\t\t\t\t\t\t\tautocomplete='off'\r\n\t\t\t\t\t\t\t\t\tplaceholder={data.placeholder}\r\n\t\t\t\t\t\t\t\t\tclassName='field-primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{googleClick === true ||\r\n\t\t\t\t\t\t\t\tgoogleClick === false ? null : (\r\n\t\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\t\tname={data.name}\r\n\t\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\t\tclassName='error-message'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t\t<div className='w-full pt-4'>\r\n\t\t\t\t\t\t\t<button type='submit' className='button-auth'>\r\n\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='flex items-center self-end pt-4'>\r\n\t\t\t\t\t\t\t<p className='pr-2 text-blue-lighter'>\r\n\t\t\t\t\t\t\t\tLogin with Google instead\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<div className='button-google'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='focus:outline-none'\r\n\t\t\t\t\t\t\t\t\tonClick={() => googleSignup()}>\r\n\t\t\t\t\t\t\t\t\t<FcGoogle\r\n\t\t\t\t\t\t\t\t\t\ticon='flat-color-icons:google'\r\n\t\t\t\t\t\t\t\t\t\tclassName='w-8 h-8'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Formik>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Login\r\n","export const signupData = [\r\n\t{\r\n\t\tid: 'name',\r\n\t\ttype: 'text',\r\n\t\tname: 'name',\r\n\t\tplaceholder: 'e.g. John',\r\n\t},\r\n\t{\r\n\t\tid: 'email',\r\n\t\ttype: 'email',\r\n\t\tname: 'email',\r\n\t\tplaceholder: 'e.g. John@gmail.com',\r\n\t},\r\n\t{\r\n\t\tid: 'password',\r\n\t\ttype: 'password',\r\n\t\tname: 'password',\r\n\t\tplaceholder: 'Must be 6 characters or longer',\r\n\t},\r\n]\r\n\r\nexport const loginData = [\r\n\t{\r\n\t\tid: 'email',\r\n\t\ttype: 'email',\r\n\t\tname: 'email',\r\n\t\tplaceholder: 'e.g. John@gmail.com',\r\n\t},\r\n\t{\r\n\t\tid: 'password',\r\n\t\ttype: 'password',\r\n\t\tname: 'password',\r\n\t\tplaceholder: 'Must be 6 characters or longer',\r\n\t},\r\n]\r\n","import { useState, useEffect } from 'react'\r\nimport { db, auth } from '../firebase'\r\nimport { signInWithPopup } from 'firebase/auth'\r\nimport { doc, setDoc } from 'firebase/firestore'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nexport const useGoogleAuth = provider => {\r\n\tconst [googleClick, setGoogleClick] = useState(false)\r\n\tconst navigate = useNavigate()\r\n\r\n\tuseEffect(() => {\r\n\t\tif (googleClick === true) {\r\n\t\t\tsignInWithPopup(auth, provider)\r\n\t\t\t\t.then(result => {\r\n\t\t\t\t\tconst user = result?.user\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst usersRef = doc(db, 'users', `${user?.uid}`)\r\n\t\t\t\t\t\tsetDoc(usersRef, {\r\n\t\t\t\t\t\t\tid: user.uid,\r\n\t\t\t\t\t\t\tdisplayName: user.displayName,\r\n\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\tphoto: user.photoURL,\r\n\t\t\t\t\t\t\tactive: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.error('Error adding document: ', error)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnavigate(`/dashboard`)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => console.log('Error has occurred', error))\r\n\t\t}\r\n\r\n\t\treturn () =>\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetGoogleClick(false)\r\n\t\t\t}, 3000)\r\n\t}, [googleClick])\r\n\r\n\treturn { googleClick, setGoogleClick }\r\n}\r\n"],"names":["initialValues","name","email","password","validationSchema","Yup","shape","min","max","required","useState","loginData","loginSchema","provider","GoogleAuthProvider","useGoogleAuth","googleClick","setGoogleClick","className","onSubmit","values","signInWithEmailAndPassword","auth","catch","error","errorCode","code","errorMessage","message","console","log","autocomplete","map","data","id","type","placeholder","component","onClick","icon","signupData","navigate","useNavigate","useEffect","signInWithPopup","then","result","user","usersRef","doc","db","uid","setDoc","displayName","photo","photoURL","active","setTimeout"],"sourceRoot":""}