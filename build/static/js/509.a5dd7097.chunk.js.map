{"version":3,"file":"static/js/509.a5dd7097.chunk.js","mappings":"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","sources":["components/auth/Signup.jsx","components/auth/authData.js","hooks/useGoogleAuth.js"],"sourcesContent":["import { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useGoogleAuth } from '../../hooks/useGoogleAuth'\r\nimport { db, auth } from '../../firebase'\r\nimport { Formik, Field, ErrorMessage, Form } from 'formik'\r\nimport { doc, setDoc } from 'firebase/firestore'\r\nimport {\r\n\tupdateProfile,\r\n\tcreateUserWithEmailAndPassword,\r\n\tGoogleAuthProvider,\r\n} from 'firebase/auth'\r\nimport { signupData } from './authData'\r\nimport { FcGoogle } from 'react-icons/fc'\r\nimport * as Yup from 'yup'\r\n\r\nconst initialValues = { name: '', email: '', password: '' }\r\n\r\nconst validationSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, 'Name too short')\r\n\t\t.max(15, 'Name too Long')\r\n\t\t.required('Required'),\r\n\temail: Yup.string().email('Invalid email').required('Required'),\r\n\tpassword: Yup.string()\r\n\t\t.min(5, 'Password too short, password should be at least 6 characters')\r\n\t\t.max(20, 'Password too long, password should be less than 20 characters')\r\n\t\t.required('Required'),\r\n})\r\n\r\nfunction Signup() {\r\n\tconst [signupSchema] = useState(signupData)\r\n\tconst provider = new GoogleAuthProvider()\r\n\tconst { googleClick, setGoogleClick } = useGoogleAuth(provider)\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst googleSignup = () => setGoogleClick(true)\r\n\r\n\treturn (\r\n\t\t<div className='relative z-20 justify-center w-full md:justify-start md:w-1/2'>\r\n\t\t\t<div className='relative z-50 px-4 pt-4 md:px-6 '>\r\n\t\t\t\t<h1 className='text-6xl tracking-wider text-white md:text-8xl font-ropa-sans'>\r\n\t\t\t\t\tSign Up\r\n\t\t\t\t</h1>\r\n\r\n\t\t\t\t<h3 className='pt-2 pb-4 text-md text-teal-light font-poppins md:text-xl'>\r\n\t\t\t\t\tHey there, glad to have you here\r\n\t\t\t\t</h3>\r\n\t\t\t</div>\r\n\t\t\t<div className='max-w-sm px-6 py-2 mt-2 bg-blue-light rounded-2xl md:px-6 md:mx-6'>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={initialValues}\r\n\t\t\t\t\tvalidationSchema={validationSchema}\r\n\t\t\t\t\tonSubmit={values => {\r\n\t\t\t\t\t\tcreateUserWithEmailAndPassword(\r\n\t\t\t\t\t\t\tauth,\r\n\t\t\t\t\t\t\tvalues.email,\r\n\t\t\t\t\t\t\tvalues.password,\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t.then(userCredential => {\r\n\t\t\t\t\t\t\t\tconst user = userCredential?.user\r\n\r\n\t\t\t\t\t\t\t\tupdateProfile(user, {\r\n\t\t\t\t\t\t\t\t\tdisplayName: values.name,\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tconst usersRef = doc(db, 'users', `${user?.uid}`)\r\n\t\t\t\t\t\t\t\t\tsetDoc(usersRef, {\r\n\t\t\t\t\t\t\t\t\t\tid: user.uid,\r\n\t\t\t\t\t\t\t\t\t\tdisplayName: values.name,\r\n\t\t\t\t\t\t\t\t\t\temail: values.email,\r\n\t\t\t\t\t\t\t\t\t\tphoto: null,\r\n\t\t\t\t\t\t\t\t\t\tactive: true,\r\n\t\t\t\t\t\t\t\t\t}).catch(error =>\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('Did not save to db,', error),\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\t\tconsole.error('Error adding document: ', error)\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tnavigate(`/dashboard`)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\t\t\tconst errorCode = error.code\r\n\t\t\t\t\t\t\t\tconst errorMessage = error.message\r\n\t\t\t\t\t\t\t\tconsole.log(errorCode)\r\n\t\t\t\t\t\t\t\tconsole.log(errorMessage)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tclassName='flex flex-col items-center bg-blue-light'\r\n\t\t\t\t\t\tautocomplete='off'>\r\n\t\t\t\t\t\t{signupSchema.map(data => (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName='relative flex flex-col w-full'\r\n\t\t\t\t\t\t\t\tkey={data.id}>\r\n\t\t\t\t\t\t\t\t<label className='self-start py-2 text-sm text-blue-lighter font-poppins'>\r\n\t\t\t\t\t\t\t\t\t{data.name}\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tid={data.id}\r\n\t\t\t\t\t\t\t\t\ttype={data.type}\r\n\t\t\t\t\t\t\t\t\tname={data.name}\r\n\t\t\t\t\t\t\t\t\tautocomplete='off'\r\n\t\t\t\t\t\t\t\t\tplaceholder={data.placeholder}\r\n\t\t\t\t\t\t\t\t\tclassName='field-primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{googleClick === true ||\r\n\t\t\t\t\t\t\t\tgoogleClick === false ? null : (\r\n\t\t\t\t\t\t\t\t\t<ErrorMessage\r\n\t\t\t\t\t\t\t\t\t\tname={data.name}\r\n\t\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\t\tclassName='error-message'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t\t<div className='w-full pt-4'>\r\n\t\t\t\t\t\t\t<button type='submit' className='button-auth'>\r\n\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='flex items-center self-end pt-4'>\r\n\t\t\t\t\t\t\t<p className='pr-2 text-blue-lighter'>\r\n\t\t\t\t\t\t\t\tSign in with Google instead\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<div className='button-google'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='focus:outline-none'\r\n\t\t\t\t\t\t\t\t\tonClick={() => googleSignup()}>\r\n\t\t\t\t\t\t\t\t\t<FcGoogle\r\n\t\t\t\t\t\t\t\t\t\ticon='flat-color-icons:google'\r\n\t\t\t\t\t\t\t\t\t\tclassName='w-8 h-8'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Formik>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Signup\r\n","export const signupData = [\r\n\t{\r\n\t\tid: 'name',\r\n\t\ttype: 'text',\r\n\t\tname: 'name',\r\n\t\tplaceholder: 'e.g. John',\r\n\t},\r\n\t{\r\n\t\tid: 'email',\r\n\t\ttype: 'email',\r\n\t\tname: 'email',\r\n\t\tplaceholder: 'e.g. John@gmail.com',\r\n\t},\r\n\t{\r\n\t\tid: 'password',\r\n\t\ttype: 'password',\r\n\t\tname: 'password',\r\n\t\tplaceholder: 'Must be 6 characters or longer',\r\n\t},\r\n]\r\n\r\nexport const loginData = [\r\n\t{\r\n\t\tid: 'email',\r\n\t\ttype: 'email',\r\n\t\tname: 'email',\r\n\t\tplaceholder: 'e.g. John@gmail.com',\r\n\t},\r\n\t{\r\n\t\tid: 'password',\r\n\t\ttype: 'password',\r\n\t\tname: 'password',\r\n\t\tplaceholder: 'Must be 6 characters or longer',\r\n\t},\r\n]\r\n","import { useState, useEffect } from 'react'\r\nimport { db, auth } from '../firebase'\r\nimport { signInWithPopup } from 'firebase/auth'\r\nimport { doc, setDoc } from 'firebase/firestore'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nexport const useGoogleAuth = provider => {\r\n\tconst [googleClick, setGoogleClick] = useState(false)\r\n\tconst navigate = useNavigate()\r\n\r\n\tuseEffect(() => {\r\n\t\tif (googleClick === true) {\r\n\t\t\tsignInWithPopup(auth, provider)\r\n\t\t\t\t.then(result => {\r\n\t\t\t\t\tconst user = result?.user\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst usersRef = doc(db, 'users', `${user?.uid}`)\r\n\t\t\t\t\t\tsetDoc(usersRef, {\r\n\t\t\t\t\t\t\tid: user.uid,\r\n\t\t\t\t\t\t\tdisplayName: user.displayName,\r\n\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\tphoto: user.photoURL,\r\n\t\t\t\t\t\t\tactive: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.error('Error adding document: ', error)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnavigate(`/dashboard`)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => console.log('Error has occurred', error))\r\n\t\t}\r\n\r\n\t\treturn () =>\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetGoogleClick(false)\r\n\t\t\t}, 3000)\r\n\t}, [googleClick])\r\n\r\n\treturn { googleClick, setGoogleClick }\r\n}\r\n"],"names":["initialValues","name","email","password","validationSchema","Yup","shape","min","max","required","useState","signupData","signupSchema","provider","GoogleAuthProvider","useGoogleAuth","googleClick","setGoogleClick","navigate","useNavigate","className","onSubmit","values","createUserWithEmailAndPassword","auth","then","userCredential","user","updateProfile","displayName","usersRef","doc","db","uid","setDoc","id","photo","active","catch","error","console","log","errorCode","code","errorMessage","message","autocomplete","map","data","type","placeholder","component","onClick","icon","loginData","useEffect","signInWithPopup","result","photoURL","setTimeout"],"sourceRoot":""}